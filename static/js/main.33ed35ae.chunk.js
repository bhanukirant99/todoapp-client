(this["webpackJsonptodo-list-app"]=this["webpackJsonptodo-list-app"]||[]).push([[0],{300:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),o=a(21),r=a.n(o),i=(a(88),a(12)),l=a(13),c=a(15),m=a(14),d=a(81),u=a.n(d),p=function(e){var t=e.onRouteChange;return e.isSignedIn?s.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end"}},s.a.createElement("p",{onClick:function(){return t("signout")},className:"f3 link dim black underline pa3 pointer"},"Sign Out")):s.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end"}},s.a.createElement("p",{onClick:function(){return t("signin")},className:"f3 link dim black underline pa3 pointer"},"Sign In"),s.a.createElement("p",{onClick:function(){return t("register")},className:"f3 link dim black underline pa3 pointer"},"Register"))},h=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onEmailChange=function(e){n.setState({signInEmail:e.target.value})},n.onPasswordChange=function(e){n.setState({signInPassword:e.target.value})},n.onSubmitSignIn=function(){fetch("http://localhost:3000/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.signInEmail,password:n.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){e&&(n.props.loadUser(e),n.props.onRouteChange("home"))})).catch((function(e){alert("Invalid credentials")}))},n.state={signInEmail:"",signInPassword:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.onRouteChange;return s.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure"},s.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},s.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Sign In"),s.a.createElement("div",{className:"mt3"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),s.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),s.a.createElement("div",{className:"mv3"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),s.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),s.a.createElement("div",{className:""},s.a.createElement("input",{onClick:this.onSubmitSignIn,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})),s.a.createElement("div",{className:"lh-copy mt3"},s.a.createElement("p",{onClick:function(){return e("register")},className:"f6 link dim black db pointer"},"Register")))))}}]),a}(s.a.Component),g=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onNameChange=function(e){n.setState({name:e.target.value})},n.onEmailChange=function(e){n.setState({email:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onSubmitSignIn=function(){fetch("http://localhost:3000/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.email,password:n.state.password,name:n.state.name})}).then((function(e){return e.json()})).then((function(e){e&&(n.props.loadUser(e),n.props.onRouteChange("home"))}))},n.state={email:"",password:"",name:""},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure"},s.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},s.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Register"),s.a.createElement("div",{className:"mt3"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"name"},"Name"),s.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",onChange:this.onNameChange})),s.a.createElement("div",{className:"mt3"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),s.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),s.a.createElement("div",{className:"mv3"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),s.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),s.a.createElement("div",{className:""},s.a.createElement("input",{onClick:this.onSubmitSignIn,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})))))}}]),a}(s.a.Component),f=a(45),b=a(46),v=(a(79),a(80),a(43)),E=a(44);var w=function(e){var t=e.todos,a=e.deleteItem,n=e.setUpdate,o=e.handleCheck,r=e.completed,i=t.map((function(e){return s.a.createElement("div",{className:"".concat(!1===r?"list":"comlist"),key:e._id},s.a.createElement("p",null,s.a.createElement("span",null,s.a.createElement("input",{className:"chicons",type:"checkbox",onChange:function(t){o(t.target.value,e._id)}})),s.a.createElement("input",{type:"text",id:e._id,value:e.description,onChange:function(t){n(t.target.value,e._id)}}),s.a.createElement("span",null,s.a.createElement(v.a,{className:"faicons",onClick:function(){a(e._id)},icon:"trash"}))))}));return s.a.createElement("div",null,s.a.createElement(E.a,{duration:300,easing:"ease-in-out"},i))},C=a(22),N=a(82);C.b.add(N.a);var y=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).addItem=function(e){console.log(n.state.todos),e.preventDefault();var t=n.state.currentItem;if(console.log(t),""!==t.description){var a;fetch("http://localhost:3000/addtodo",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t,userid:n.props.sendUser.id})}).then((function(e){return e.json()})).then((function(e){e&&console.log(e)}));var s=[].concat(Object(b.a)(n.state.todos),[t]);n.setState((a={todos:n.props.sendUser},Object(f.a)(a,"todos",s),Object(f.a)(a,"currentItem",{description:"",completed:!1}),a))}},n.handleInput=function(e){n.setState({currentItem:{description:e.target.value}})},n.handleCheck=function(e,t){"on"===e&&(!1===n.state.currentItem.completed?n.setState({currentItem:{completed:!0}}):!0===n.state.currentItem.completed&&n.setState({currentItem:{completed:!1}}));var a=n.state.currentItem.completed;console.log(a),a&&(fetch("http://localhost:3000/checktodo",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:a,userid:n.props.sendUser.id,todoid:t})}).then((function(e){return e.json()})).then((function(e){console.log(e)})),n.setState({currentItem:{description:"",completed:!1}})),console.log(n.state.currentItem.completed)},n.deleteItem=function(e){var t=n.state.todos.filter((function(t){return t._id!=e}));fetch("http://localhost:3000/deletetodo",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:n.props.sendUser.id,todoid:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),e&&console.log(e)})),console.log(t),n.setState({todos:t})},n.setUpdate=function(e,t){console.log(e,t);var a=n.state.todos;a.map((function(a){a._id===t&&(a.description=e)})),n.setState({todos:a})},n.state={todos:Object(b.a)(n.props.sendUser.todos),currentItem:{description:"",completed:!1}},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"TodoApp"},s.a.createElement("header",null,s.a.createElement("form",{id:"to-do-form",onSubmit:this.addItem},s.a.createElement("input",{type:"text",placeholder:"Enter task",value:this.state.currentItem.description,onChange:this.handleInput}),s.a.createElement("button",{type:"submit"},"Add")),s.a.createElement("p",null,this.state.todos.description),s.a.createElement(w,{todos:this.state.todos,completed:!1,handleCheck:this.handleCheck,deleteItem:this.deleteItem,setUpdate:this.setUpdate})))}}]),a}(s.a.Component),S=(a(300),{particles:{number:{value:30,density:{enable:!0,value_area:800}}}}),k=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadUser=function(e){n.setState({user:{id:e._id,name:e.name,email:e.email,todos:e.todos}});var t=n.state.user.todos.filter((function(e){if(""!==e.description)return e}));console.log(t)},n.onInputChange=function(e){n.setState({input:e.target.value})},n.onRouteChange=function(e){"signout"===e?n.setState({isSignedIn:!1}):"home"===e&&n.setState({isSignedIn:!0}),n.setState({route:e})},n.state={term:"",todos:[],input:"",route:"signin",isSignedIn:!1,user:{id:"",name:"",email:"",todos:[]}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isSignedIn,a=e.route;return s.a.createElement("div",{className:"App"},s.a.createElement(u.a,{className:"particles",params:S}),s.a.createElement(p,{isSignedIn:t,onRouteChange:this.onRouteChange}),"home"===a?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 mx-auto"},s.a.createElement("h1",{className:"text-center f1 fw6 ph0 mh0"},"TODO LIST"),s.a.createElement(y,{sendUser:this.state.user})))):"signin"===a?s.a.createElement(h,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}):s.a.createElement(g,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(301);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,a){},80:function(e,t,a){},83:function(e,t,a){e.exports=a(302)},88:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.33ed35ae.chunk.js.map